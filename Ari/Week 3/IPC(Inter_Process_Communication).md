# IPC(Inter Process Communication)

IPC는 프로세스들 간의 통신과 동기화를 이루기 위한 메커니즘을 의미한다. 즉 프로세스간 협력을 할 때 메커니즘을 말하는 것이다. </br>
메세지 전달 방식(커널을 통해 메세지 전달)과 공유 메모리 방식(일부 주소 공간을 공유)이 있다.

## 프로세스 간 협력

* 독립적 프로세스(Independent process)
    * 프로세스는 각자의 주소 공간을 가지고 수행되므로 원칙적으로 하나의 프로세스는 다른 프로세스의 수행에 영향을 미치지 못한다.
* 협력 프로세스(Cooperating process)
    * 프로세스 협력 메커니즘을 통해 하나의 프로세스가 다른 프로세스의 수행에 영향을 미칠 수 있다.

![](https://i.imgur.com/7nRtfZN.png)

* 주소 공간을 공유하는 방법
    * shared memory
        * 서로 다른 프로세스 간에도 일부 주소 공간을 공유하게 하는 shared memory 메커니즘이 있다.
    * thread
        * 스레드는 사실상 하나의 프로세스이므로 프로세스 간 협력으로 보기는 어렵지만 동일한 프로세스를 구성하는 스레드들 간에는 주소공간을 공유하므로 협력이 가능하다.

## Message passing

* 커널을 통해 메세지를 전달한다.
* 주소 공간을 공유하는 방법이다.
* 직접 메세지를 보내는 방법은 없고 운영체제가 매개가 된다.
* 즉, 프로세스 사이에 공유 변수(shared variable)를 일체 사용하지 않고 통신하는 시스템이다.
* 메세지 통신을 하는 시스템은 커널에 의해 send와 receive 연산을 제공받는다.

![](https://i.imgur.com/LsX4FFe.png)

* Direct Communication (직접 통신)
    * 통신 하려는 프로세스의 이름을 명시적으로 표시한다.
    * 각 쌍의 프로세스에게는 오직 하나의 링크만 존재한다.

![](https://i.imgur.com/bkwscD5.png)

* Indirect Communication (간접 통신)
    * mailbax (또는 port)를 통해 메세지를 간접 전달한다.
    * 각 메일 박스에는 고유의 ID가 있으며 메일 박스를 공유하는 프로세스만 통신할 수 있다.
    * 하나의 링크가 여러 프로세스에게 할당될 수 있다.

## Shared Memory

![](https://i.imgur.com/IAHNmqq.png)

* 공유 메모리 방식은 프로세스들이 주소 공간의 일부를 공유한다.
* 서로의 데이터에 일관성 문제가 유발될 수 있다.
* 프로세스 간 동기화 문제를 스스로 책임져야 한다.
